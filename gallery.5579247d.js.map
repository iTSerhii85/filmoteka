{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qJCAzDH,EAAA,S,iBCAAI,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,8BCM5F,MAAMC,EAAgBC,SAASC,cAAc,eAC7C,IAAIC,EAAc,EACdC,EAAU,EAId,MAAMC,EAAgBJ,SAASC,cAAc,uBACvCI,EAAcL,SAASC,cAAc,qBACrCK,EAAaN,SAASC,cAAc,uBACpCM,EAAkBP,SAASC,cAAc,oBACtBD,SAASC,cAAc,qBAWxB,SAAfO,EAAmBC,GAC1B,MAAMC,EAAkBC,aAAaC,QAAQH,GACvCI,EAAoBvB,KAAKC,MAAMmB,GACrC,GAAKG,EAML,OAHEV,EAAUW,KAAKC,KAAKF,EAAkBG,OAAS,KAC/C,EAAAC,EAAAC,kBAAiBhB,EAAaC,GAEzBU,C,CAhBTM,OAAOC,iBAAiB,QAAQ,WAC9BC,YAAW,WACTjB,EAAckB,O,GACb,E,IAiBG,IAAJC,EAAef,EAAmB,yBAClCgB,EAAahB,EAAmB,uBAGhCiB,EAAiC,IAAnBvB,EAAc,GAC5BwB,EAAgC,IAAnBxB,EAAc,GAAU,GACzC,MACMyB,EADcJ,EACWK,MAAMH,EAAYC,GAE3CG,EADgBL,EACaI,MAAMH,EAAYC,GAO5B,SAAhBI,EAAcC,GACrB,IAAKA,EAEH,OADAC,IACOzB,EAAgB0B,UAAUC,OAAO,aAG1C,MAgCMC,EAAgBJ,EAAYK,KAhCZC,IACpBL,KACA,EAAAM,EAAAC,iBAAgBF,GAEhB,IAAIG,EAAY,GAOhB,OALEA,EADEH,EAAII,YACM,kCAAkCJ,EAAII,cAEtCC,EAAAlD,GAGP,gCAAgC6C,EAAIM,gFAC0BH,WACnEH,EAAIO,OAASP,EAAIQ,+CAEUR,EAAIO,OAASP,EAAIQ,yHAGb,EAAAP,EAAAC,iBAAgBF,2EAI1CA,EAAIS,aAAalB,MAAM,EAAG,IAAMS,EAAIU,eAAenB,MAAM,EAAG,IAAM,4FAGTS,EAAIW,aAAaC,QAC1E,2CAGA,IAG4CC,KAAK,IAC1D5C,EAAW6C,mBAAmB,YAAahB,E,CAUtC,SAASiB,IAEJlD,EAAI,EACd,IAAImD,EAAM1C,aAAaC,QAAQ,yBAC3B0C,EAAYhE,KAAKC,MAAM8D,GAC3BlD,EAAUW,KAAKC,KAAKuC,EAAUtC,OAAS,KACvC,EAAAC,EAAAC,kBAAiBhB,EAAaC,GAI9BC,EAAc6B,UAAUsB,IAAI,iBAC5BlD,EAAY4B,UAAUC,OAAO,iBAC7B3B,EAAgB0B,UAAUsB,IAAI,aAC9BzB,EAAcH,E,CAGT,SAAS6B,IAEJtD,EAAI,EACd,IAAImD,EAAM1C,aAAaC,QAAQ,uBAC3B0C,EAAYhE,KAAKC,MAAM8D,GAC3BlD,EAAUW,KAAKC,KAAKuC,EAAUtC,OAAS,KACvC,EAAAC,EAAAC,kBAAiBhB,EAAaC,GAG9BI,EAAgB0B,UAAUsB,IAAI,aAC9BlD,EAAY4B,UAAUsB,IAAI,iBAC1BnD,EAAc6B,UAAUC,OAAO,iBAC/BJ,EAAcD,E,CAGhB,SAASG,IACP1B,EAAWmD,UAAY,E,CAtFzBrD,EAAc6B,UAAUsB,IAAI,iBAmD5BnD,EAAcgB,iBAAiB,QAASgC,GACxC/C,EAAYe,iBAAiB,QAASoC,GAsC5BzD,EAAIqB,iBAAiB,SAE/B,SAAoBsC,GAClB,GAA8B,OAA1BA,EAAIC,OAAOC,YACb,OAEF,GAA4B,MAAxBF,EAAIC,OAAOE,SACb,OAGF3D,EAAcwD,EAAIC,OAAOC,YAEK,MAA1BF,EAAIC,OAAOC,cACb1D,EAAc4D,OAAOC,WAAWH,aAAe,GAGnB,MAA1BF,EAAIC,OAAOC,cACb1D,EAAc4D,OAAOC,WAAWH,aAAe,IAGjD,EAAA3C,EAAAC,kBAAiBhB,EAAaC,GAK9B,SAAqB6D,GACnB,IAAIC,EAAiC,IAAnBD,EAAc,GAC5BE,EAAgC,IAAnBF,EAAc,GAAU,GAErC5D,EAAc6B,UAAUkC,SAAS,iBAGnCrC,EAFoBP,EACWK,MAAMqC,EAAYC,IAKjDpC,EAFoBN,EACWI,MAAMqC,EAAYC,G,CAdrDE,CAAYlE,E,eClKdoC,EAAAlD,EAAA,SAKA,SAASiF,EAA8BC,GACrC3D,aAAa4D,QAAQ,wBAAyBjF,KAAKkF,UAAUF,G,CAG/D,SAASG,EAA4BH,GACnC3D,aAAa4D,QAAQ,sBAAuBjF,KAAKkF,UAAUF,G,CAG7D,IAAII,EACAC,EACAC,EACAC,EACAC,EAEJ,MAAMC,EAAgB/E,SAASC,cAAc,uBAEvC+E,EAAWhF,SAASC,cAAc,uBAClCgF,EAAWjF,SAASC,cAAc,mBAClCiF,EAAgBlF,SAASC,cAAc,iBACvCkF,EAAYnF,SAASC,cAAc,qBAOzC,SAASmF,EAAmB3E,GAC1B,MAAMC,EAAkBC,aAAaC,QAAQH,GAG7C,OAF0BnB,KAAKC,MAAMmB,E,CAKvC,SAAS2E,EAAUC,GAEjBC,QAAQC,IAAI,aACZb,EAAe3E,SAASC,cAAc,sBACtC2E,EAAmB5E,SAASC,cAAc,wBAC1C4E,EAAa7E,SAASC,cAAc,oBACpC6E,EAAiB9E,SAASC,cAAc,sBAGxCyE,GAAaC,EAAahC,GAC1B4C,QAAQC,IAAI,qBAAsBd,GAGlCC,EAAavD,iBAAiB,QAASqE,GACvCb,EAAiBxD,iBAAiB,QAASsE,GAE3Cb,EAAWzD,iBAAiB,QAASuE,GACrCb,EAAe1D,iBAAiB,QAASwE,GAY3C,WACE,MAAMC,EAAeT,EAAmB,0BAA4B,GAC9DU,EAAcV,EAAmB,wBAA0B,GACjE,IAAIW,EAAuBF,EAAaG,MAAKC,GAAQA,EAAKtD,KAAO+B,IACjE,MAAMwB,EAAiBJ,EAAYE,MAAKC,GAAQA,EAAKtD,KAAO+B,IAEhC,IAAxBmB,EAAa7E,QAAiB+E,GAChCI,EAAKvB,GAEoB,IAAvBkB,EAAY9E,QAAiBkF,GAC/BC,EAAKrB,GAGHiB,GACFI,EAAKxB,GAEHuB,GACFC,EAAKtB,E,CA5BPuB,GACAlB,EAAc9D,iBAAiB,QAASiF,GACxCpB,EAAS7D,iBAAiB,SAASkF,GAkHrC,SAA4BA,GAC1B,GAAqC,mBAAjCA,EAAM3C,OAAO1B,UAAUsE,MACzB,OAEFF,G,CAtH4CG,CAAmBF,KAC/DtG,SAASoB,iBAAiB,WAAWkF,GAASG,EAAcH,KAC5DrB,EAAShD,UAAUC,OAAO,aAC1Bb,YAAW,KACT4D,EAASyB,kBAAkBzE,UAAUC,OAAO,YAAY,GACvD,KACHlC,SAAS2G,KAAK1E,UAAUsB,IAAI,a,CAuB5B,SAAS4C,EAAKS,GACZA,EAAOC,MAAMC,QAAU,M,CAGzB,SAASC,EAAKH,GACZA,EAAOC,MAAMC,QAAU,E,CAG3B,SAASrB,EAAea,GAEtB,MAAMhC,EAAO0C,EAActC,GACrBmB,EAAeT,EAAmB,0BAA4B,GACpEG,QAAQC,IAAIK,GACQA,EAAaG,MAAKC,GAAQA,EAAKtD,KAAO+B,MAIxDmB,EAAaoB,KAAK3C,GAClBD,EAA8BwB,GAE9BN,QAAQC,IAAI,GAAGd,sBACfyB,EAAKxB,GACLoC,EAAKnC,G,CAKT,SAASc,IACP,MAAMG,EAAeT,EAAmB,0BAA4B,GAGpE,GAFcS,EAAaG,MAAKC,GAAQA,EAAKtD,KAAO+B,IAEvC,CAEXL,EADmBwB,EAAaqB,QAAOjB,GAAQA,EAAKtD,KAAO+B,KAGxDyB,EAAKvB,GACLmC,EAAKpC,GACRY,QAAQC,IAAI,GAAGd,wB,CAEjBtB,G,CAGF,SAASuC,IACP,MAAMrB,EAAO0C,EAActC,GAErBoB,EAAcV,EAAmB,wBAA0B,GAC1CU,EAAYE,MAAKC,GAAQA,EAAKtD,KAAO+B,MAG1DoB,EAAYmB,KAAK3C,GACjBG,EAA4BqB,GAE5BP,QAAQC,IAAI,GAAGd,oBACfyB,EAAKtB,GACLkC,EAAKjC,G,CAKT,SAASc,IAEP,MAAME,EAAcV,EAAmB,wBAA0B,GAGjE,GAFgBU,EAAYE,MAAKC,GAAQA,EAAKtD,KAAO+B,IAExC,CAEXD,EADqBqB,EAAYoB,QAAOjB,GAAQA,EAAKtD,KAAO+B,KAG5Da,QAAQC,IAAI,GAAGd,uBACbyB,EAAKrB,GACLiC,EAAKlC,E,CAETrB,G,CAGF,SAAS6C,EAAWc,GAClBlC,EAAShD,UAAUsB,IAAI,aACvB0B,EAASyB,kBAAkBzE,UAAUC,OAAO,aAC5CgD,EAAckC,oBAAoB,QAASf,GAC3CpB,EAASmC,oBAAoB,QAASf,GACtCrG,SAASoH,oBAAoB,WAAWd,GAASG,EAAcH,KAC/DtG,SAAS2G,KAAK1E,UAAUC,OAAO,cAC/B+C,EAAS4B,MAAMQ,WAAa,E,CAS9B,SAASZ,EAAcH,GACH,WAAdA,EAAM7F,KAGV4F,G,CA7JFrB,EAAS5D,iBAAiB,SAASkF,IACH,QAA1BA,EAAM3C,OAAOE,UACfyD,EAAYhB,EAAM,IA8JtB,MAAMgB,EAAchB,IAClB,MAEMhC,EAAO0C,EAFEV,EAAM3C,OAAO4D,QAAQ,MACb5E,IAEnB2B,IACFI,EAAYJ,EAAK3B,GAoBrB,SAAyBN,GAEvB,GAAsB,OADAA,EAAImF,cACE,CAC1B,MAAMH,EAAa,uCAAuChF,EAAImF,gBAC9DvC,EAAS4B,MAAMY,gBAAkB,QAAQJ,MACzCpC,EAAS4B,MAAMa,eAAiB,QAChCzC,EAAS4B,MAAMc,mBAAqB,S,EAIxC,SAActF,GACZ,MAAMuF,EAAY,kCAClB,IAAIpF,EAAY,GAEZA,EADEH,EAAII,YACM,GAAGmF,IAAYvF,EAAII,cAEnBC,EAAAlD,GAGhB,MAAMqI,EAAS,gFAGCxF,EAAIM,4CAElBH,WAAmBH,EAAIO,OAASP,EAAIQ,iIAItBR,EAAIO,OAASP,EAAIQ,4VASTR,EAAIW,aAAaC,QAAQ,eACdZ,EAAIyF,oRAQZzF,EAAI0F,WAAW9E,QAAQ,gRAQvBZ,EAAI2F,oRAQJ,EAAA1F,EAAAC,iBAAgBF,oMAKIA,EAAI4F,iKAI/B5F,EAAIM,gHAEtBN,EAAIM,oHAKcN,EAAIM,yHAEtBN,EAAIM,0MAOcN,EAAIM,4GAEtBN,EAAIM,8GAKcN,EAAIM,qHAEtBN,EAAIM,qMAQcN,EAAIM,sDAEtBN,EAAIM,qHAMNwC,EAAU1B,UAAYoE,C,CAxGtBK,CAAK7F,E,CA3BH8F,CAAgB7D,GAChBe,I,EAIJ,SAAS2B,EAAcoB,GACrB,GAAIrD,EAAc9C,UAAUkC,SAAS,iBAAiB,CACpD,MAAMkE,EAAqB1H,aAAaC,QAAQ,yBAGhD,OAFoBtB,KAAKC,MAAM8I,GACNrC,MAAK3C,GAAOA,EAAIV,KAAOmB,OAAOsE,I,CAElD,CACL,MAAMC,EAAqB1H,aAAaC,QAAQ,uBAGhD,OAFoBtB,KAAKC,MAAM8I,GACNrC,MAAK3C,GAAOA,EAAIV,KAAOmB,OAAOsE,I","sources":["node_modules/@parcel/runtime-js/lib/runtime-4b08e798a9cb7982.js","src/gallery.js","node_modules/@parcel/runtime-js/lib/runtime-63fa19aa3301a04f.js","src/js/local-storage.js","src/js/modalMovieLibrary.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"T57zD\\\":\\\"gallery.5579247d.js\\\",\\\"bNA7a\\\":\\\"no-image.0b269193.jpg\\\",\\\"iH3o9\\\":\\\"gallery.98c730a9.js\\\"}\"));","import './js/preloader';\nimport './js/footer-modal';\nimport './js/local-storage';\nimport './js/dark-light';\nimport './js/modalMovieLibrary';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bNA7a\")).toString();","import no_image from '../images/no-image.jpg';\nimport { checkGenresById } from './checkGenresById';\n\n// !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\nimport { paginationMarkUp } from './pagination.js';\nconst paginationBox = document.querySelector('.pagination');\nlet currentPage = 1;\nlet maxPage = 1;\n\n// -----------------------\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\nconst queueLibBtn = document.querySelector('.js-queue-lib-btn');\nconst libraryBox = document.querySelector('.js-library-gallery');\nconst emptyGalleryBox = document.querySelector('.info-notify-box');\nconst emptyGalleryText = document.querySelector('.info-notify-text');\n\nlet movieArray = [];\n\nwindow.addEventListener('load', function () {\n  setTimeout(function () {\n    watchedLibBtn.click();\n  }, 0);\n});\n\n// Функція розпарсить об'єкти з localStorage\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  if (!parseObjectFromLs) {\n    return;\n  } else {\n    maxPage = Math.ceil(parseObjectFromLs.length / 20);\n    paginationMarkUp(currentPage, maxPage);\n  }\n  return parseObjectFromLs;\n}\n\n// ключі від localStorage\nlet watchedArray = localStorageObject('WATCHED_LIST_DATA_KEY');\nlet queueArray = localStorageObject('QUEUE_LIST_DATA_KEY');\n\n// Рендерить розмітку у бібліотеці по дефолту\nlet startPoint = (currentPage - 1) * 20;\nlet stopPoint = (currentPage - 1) * 20 + 20;\nconst beforeArrey = watchedArray;\nconst watchedArr = beforeArrey.slice(startPoint, stopPoint);\nconst beforeArreyQe = queueArray;\nconst watchedArrQe = beforeArreyQe.slice(startPoint, stopPoint);\n\nwatchedLibBtn.classList.add('btn-is-active');\n// paginationBox.addEventListener('click', Onclick);\n\n// Функція для рендуру розмітки\n\nfunction renderLibrary(arrayMovies) {\n  if (!arrayMovies) {\n    clearMarkup();\n    return emptyGalleryBox.classList.remove('is-hidden');\n  }\n\n  const markupOneCard = obj => {\n    clearMarkup();\n    checkGenresById(obj);\n\n    let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `https://image.tmdb.org/t/p/w500${obj.poster_path}`;\n    } else {\n      posterSrc = no_image;\n    }\n\n    return ` <li class=\"card-wraper\" id=\"${obj.id}\">\n       <a class=\"card-wraper_link\" href=\"#\"><img class=\"card-img\" src=\"${posterSrc}\" alt=\"${\n      obj.title || obj.name\n    }\"/></a>\n       <div class=\"card-title\">${obj.title || obj.name}</div>\n      <div class=\"wraper\">\n         <div class=\"card-genre-wraper\">\n           <div class=\"card-genre\">${checkGenresById(obj)}</div>\n         </div>\n         <div class=\"card-year\">\n\n         ${obj.release_date.slice(0, 4) || obj.first_air_date.slice(0, 4) || ''}\n\n         </div>\n         <div class=\"card-rating-wraper\"><div class=\"card-rating\">${obj.vote_average.toFixed(\n           1\n         )}</div></div>\n       </div>\n     </li>`;\n  };\n\n  const libraryMarkup = arrayMovies.map(markupOneCard).join('');\n  libraryBox.insertAdjacentHTML('beforeend', libraryMarkup);\n\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\n  // -----------------------\n}\n\nwatchedLibBtn.addEventListener('click', onClickWatched);\nqueueLibBtn.addEventListener('click', onClickQueue);\n\nexport function onClickWatched() {\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n  currentPage = 1;\n  let arr = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n  maxPage = Math.ceil(parsedArr.length / 20);\n  paginationMarkUp(currentPage, maxPage);\n\n  // -----------------------\n\n  watchedLibBtn.classList.add('btn-is-active');\n  queueLibBtn.classList.remove('btn-is-active');\n  emptyGalleryBox.classList.add('is-hidden');\n  renderLibrary(watchedArr);\n}\n\nexport function onClickQueue() {\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n  currentPage = 1;\n  let arr = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n  maxPage = Math.ceil(parsedArr.length / 20);\n  paginationMarkUp(currentPage, maxPage);\n  // -----------------------\n\n  emptyGalleryBox.classList.add('is-hidden');\n  queueLibBtn.classList.add('btn-is-active');\n  watchedLibBtn.classList.remove('btn-is-active');\n  renderLibrary(watchedArrQe);\n}\n\nfunction clearMarkup() {\n  libraryBox.innerHTML = '';\n}\n\n// !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\npaginationBox.addEventListener('click', OnPagClick);\n\nfunction OnPagClick(evt) {\n  if (evt.target.textContent == '...') {\n    return;\n  }\n  if (evt.target.nodeName !== 'P') {\n    return;\n  }\n\n  currentPage = evt.target.textContent;\n\n  if (evt.target.textContent == '>>') {\n    currentPage = Number(targetPage.textContent) + 1;\n  }\n\n  if (evt.target.textContent == '<<') {\n    currentPage = Number(targetPage.textContent) - 1;\n  }\n\n  paginationMarkUp(currentPage, maxPage);\n  reRendering(currentPage);\n\n  // И вот тут отрисовываем карточки из массива по интексам   <<<<<-----------\n\n  function reRendering(currentPage) {\n    let startPoint = (currentPage - 1) * 20;\n    let stopPoint = (currentPage - 1) * 20 + 20;\n\n    if (watchedLibBtn.classList.contains('btn-is-active')) {\n      const beforeArrey = watchedArray;\n      const watchedArr = beforeArrey.slice(startPoint, stopPoint);\n      renderLibrary(watchedArr);\n    } else {\n      const beforeArrey = queueArray;\n      const watchedArr = beforeArrey.slice(startPoint, stopPoint);\n      renderLibrary(watchedArr);\n    }\n  }\n}\n// -----------------------\n","import { checkGenresById } from './checkGenresById';\nimport { onClickWatched } from \"./local-storage\";\nimport { onClickQueue } from \"./local-storage\";\nimport no_image from '../images/no-image.jpg';\n\nfunction saveWatchedListToLocalStorage(data) {\n  localStorage.setItem('WATCHED_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nfunction saveQueueListToLocalStorage(data) {\n  localStorage.setItem('QUEUE_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nlet currentId;\nlet toWatchedBtn ;\nlet removeWatchedBtn ;\nlet toQueueBtn;\nlet removeQueueBtn;\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\n\nconst cardList = document.querySelector('.js-library-gallery');\nconst backdrop = document.querySelector('.backdrop-modal');\nconst closeModalBtn = document.querySelector('.button-close');\nconst movieCard = document.querySelector('.modal-movie-card');\ncardList.addEventListener('click', event => {\n  if (event.target.nodeName === 'IMG') {\n    renderModal(event);\n  }\n});\n\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  // console.log(parseObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction openModal(event) {\n\n  console.log('openModal');\n  toWatchedBtn = document.querySelector('.js-btn-to-watched');\n  removeWatchedBtn = document.querySelector('.js-btn-from-watched');\n  toQueueBtn = document.querySelector('.js-btn-to-queue');\n  removeQueueBtn = document.querySelector('.js-btn-from-queue');\n\n\n  currentId = +toWatchedBtn.id;\n  console.log('buttonWatchRemove ', currentId);\n\n  \n  toWatchedBtn.addEventListener('click', onToWatchedBtn);\n  removeWatchedBtn.addEventListener('click', onRemoveWatchedBtn);\n\n  toQueueBtn.addEventListener('click', onToQueueBtn);\n  removeQueueBtn.addEventListener('click', onRemoveQueueBtn);\n  handlingButton();\n  closeModalBtn.addEventListener('click', closeModal);\n  backdrop.addEventListener('click', event => closeModalBackdrop(event));\n  document.addEventListener('keydown', event => closeModalEsc(event));\n  backdrop.classList.remove('is-hidden');\n  setTimeout(() => {\n    backdrop.firstElementChild.classList.remove('is-hidden');\n  }, 350);\n  document.body.classList.add('modal-open');\n}\n\nfunction handlingButton() {\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  let alreadyWatchedExists = watchedFilms.find(item => item.id === currentId);\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (watchedFilms.length === 0 || !alreadyWatchedExists) {\n    hide(removeWatchedBtn);\n  }\n  if (queuedFilms.length === 0 || !alreadyOnQueue) {\n    hide(removeQueueBtn);\n  }\n\n  if (alreadyWatchedExists) {\n    hide(toWatchedBtn);\n  }\n  if (alreadyOnQueue) {\n    hide(toQueueBtn);\n  }\n}\n  function hide(button) {\n    button.style.display = 'none';\n  }\n\n  function show(button) {\n    button.style.display = '';\n  }\n\nfunction onToWatchedBtn(event) {\n  \n  const data = findMovieById(currentId);\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  console.log(watchedFilms)\n  let alreadyExists = watchedFilms.find(item => item.id === currentId);\n\n\n  if (!alreadyExists) {\n    watchedFilms.push(data);\n    saveWatchedListToLocalStorage(watchedFilms);\n\n    console.log(`${currentId} added to watched`);\n    hide(toWatchedBtn);\n    show(removeWatchedBtn);\n  }\n\n}\n\nfunction onRemoveWatchedBtn() {\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  let isExist = watchedFilms.find(item => item.id === currentId);\n\n  if (isExist) {\n  const updatedFilms = watchedFilms.filter(item => item.id !== currentId);\n    saveWatchedListToLocalStorage(updatedFilms);\n\n       hide(removeWatchedBtn);\n       show(toWatchedBtn);\n    console.log(`${currentId} remove from watched`);\n  }\n  onClickWatched();\n}\n\nfunction onToQueueBtn() {\n  const data = findMovieById(currentId);\n\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const alreadyOnQueue = queuedFilms.find(item => item.id === currentId);\n\n  if (!alreadyOnQueue) {\n    queuedFilms.push(data);\n    saveQueueListToLocalStorage(queuedFilms);\n\n    console.log(`${currentId} added to queue`);\n    hide(toQueueBtn);\n    show(removeQueueBtn);\n  }\n\n}\n\nfunction onRemoveQueueBtn() {\n\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const isExist = queuedFilms.find(item => item.id === currentId);\n\n  if (isExist) {\n    const updatedFilms = queuedFilms.filter(item => item.id !== currentId);\n    saveQueueListToLocalStorage(updatedFilms);\n\n    console.log(`${currentId} remove from queue`);\n      hide(removeQueueBtn);\n      show(toQueueBtn);\n  }\n  onClickQueue();\n}\n\nfunction closeModal(event) {\n  backdrop.classList.add('is-hidden');\n  backdrop.firstElementChild.classList.remove('is-hidden');\n  closeModalBtn.removeEventListener('click', closeModal);\n  backdrop.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', event => closeModalEsc(event));\n  document.body.classList.remove('modal-open');\n  backdrop.style.background = '';\n}\n\nfunction closeModalBackdrop(event) {\n  if (event.target.classList.value !== 'backdrop-modal') {\n    return;\n  }\n  closeModal();\n}\nfunction closeModalEsc(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nconst renderModal = event => {\n  const cardId = event.target.closest('li');\n  const idMovie = cardId.id;\n  const data = findMovieById(idMovie);\n  if (data) {\n    currentId = data.id;\n    renderMovieCard(data);\n    openModal(event);\n  }\n};\n\nfunction findMovieById(idMovie) {\n  if (watchedLibBtn.classList.contains('btn-is-active')){\n    const savedTrendingFilms = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  } else {\n    const savedTrendingFilms = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n    const arrayMovies = JSON.parse(savedTrendingFilms);\n    const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n    return data;\n  }\n}\n\nfunction renderMovieCard(obj) {\n  const backdropImage = obj.backdrop_path;\n  if (backdropImage !== null) {\n    const background = `https://image.tmdb.org/t/p/original/${obj.backdrop_path}`;\n    backdrop.style.backgroundImage = `url('${background}')`;\n    backdrop.style.backgroundSize = 'cover';\n    backdrop.style.backgroundPosition = '50% 50%';\n  }\n  mark(obj);\n}\nfunction mark(obj) {\n  const START_URL = 'https://image.tmdb.org/t/p/w500';\n  let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `${START_URL}${obj.poster_path}`    \n    } else {\n      posterSrc = no_image;\n  }\n  \n  const markup = `\n      <div class='modal-movie-card__wrappe-img'>\n                <img id=\"${\n                  obj.id\n                }\" class=\"modal-movie-card__image\" src=\"${\n    posterSrc}\" alt=\"${obj.title || obj.name}\" />\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${\n                  obj.title || obj.name\n                }</h2>\n            <table class='modal-movie-data-table'>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                    </td>\n                    <td>\n                        <p><span class='modal-movie-data__vote'>${\n                          obj.vote_average.toFixed(1)\n                        }</span> / ${obj.vote_count}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Popularity</p>\n                    </td>\n                    <td>\n                        <p>${obj.popularity.toFixed(1)}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Original Title</p>\n                    </td>\n                    <td>\n                        <p>${obj.original_title}</p>\n                    </td>\n                </tr>\n                <tr class='modal-movie-data-table__row'>\n                    <td>\n                        <p>Genre</p>\n                    </td>\n                    <td>\n                        <p>${checkGenresById(obj)}</p>\n                    </td>\n                </tr>\n            </table>\n            <h3 class='modal-movie-data__about_title'>About</h3>\n            <p class='modal-movie-data__about'>${obj.overview}</p>\n            <ul class='modal-movie-data__btn-list'>\n                <li class='modal-movie-data__btn-item'  >\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${\n    obj.id\n  }'   >\n                        ADD TO WATCHED\n                    </button>\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-watched active js-btn-from-watched' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM WATCHED\n                    </button>\n                </li>\n                <li class='modal-movie-data__button-item' >\n                    <button  id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        ADD TO QUEUE\n                    </button>\n                    <button id='${\n                      obj.id\n                    }' class='modal-movie-data__btn modal-movie-data__btn-queue active js-btn-from-queue' type='button' data-action='${\n    obj.id\n  }'>\n                        REMOVE FROM QUEUE\n                    </button>\n                </li>\n            </ul>\n            <div class=\"trailer-btn-wrapper\">\n            <button  id='${\n                      obj.id\n                    }' class='trailer-btn' type='button' data-action='${\n    obj.id\n  }'>\n                        watch trailer\n                    </button>\n            </div>\n            </div>`;\n  movieCard.innerHTML = markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$46cee9b60252fd1e$exports","URL","resolve","import","meta","url","toString","$8125d1701b78b442$var$paginationBox","document","querySelector","$8125d1701b78b442$var$currentPage","$8125d1701b78b442$var$maxPage","$8125d1701b78b442$var$watchedLibBtn","$8125d1701b78b442$var$queueLibBtn","$8125d1701b78b442$var$libraryBox","$8125d1701b78b442$var$emptyGalleryBox","$8125d1701b78b442$var$localStorageObject","key","getObjectFromLs","localStorage","getItem","parseObjectFromLs","Math","ceil","length","$2nhTy","paginationMarkUp","window","addEventListener","setTimeout","click","$8125d1701b78b442$var$watchedArray","$8125d1701b78b442$var$queueArray","$8125d1701b78b442$var$startPoint","$8125d1701b78b442$var$stopPoint","$8125d1701b78b442$var$watchedArr","slice","$8125d1701b78b442$var$watchedArrQe","$8125d1701b78b442$var$renderLibrary","arrayMovies","$8125d1701b78b442$var$clearMarkup","classList","remove","libraryMarkup","map","obj","$hielw","checkGenresById","posterSrc","poster_path","$parcel$interopDefault","id","title","name","release_date","first_air_date","vote_average","toFixed","join","insertAdjacentHTML","$8125d1701b78b442$export$2c57f17591d231ce","arr","parsedArr","add","$8125d1701b78b442$export$ac55bd7e11afc2c2","innerHTML","evt","target","textContent","nodeName","Number","targetPage","currentPage1","startPoint1","stopPoint1","contains","reRendering","$42b9dc6f6ccfae9e$var$saveWatchedListToLocalStorage","data","setItem","stringify","$42b9dc6f6ccfae9e$var$saveQueueListToLocalStorage","$42b9dc6f6ccfae9e$var$currentId","$42b9dc6f6ccfae9e$var$toWatchedBtn","$42b9dc6f6ccfae9e$var$removeWatchedBtn","$42b9dc6f6ccfae9e$var$toQueueBtn","$42b9dc6f6ccfae9e$var$removeQueueBtn","$42b9dc6f6ccfae9e$var$watchedLibBtn","$42b9dc6f6ccfae9e$var$cardList","$42b9dc6f6ccfae9e$var$backdrop","$42b9dc6f6ccfae9e$var$closeModalBtn","$42b9dc6f6ccfae9e$var$movieCard","$42b9dc6f6ccfae9e$var$localStorageObject","$42b9dc6f6ccfae9e$var$openModal","event1","console","log","$42b9dc6f6ccfae9e$var$onToWatchedBtn","$42b9dc6f6ccfae9e$var$onRemoveWatchedBtn","$42b9dc6f6ccfae9e$var$onToQueueBtn","$42b9dc6f6ccfae9e$var$onRemoveQueueBtn","watchedFilms","queuedFilms","alreadyWatchedExists","find","item","alreadyOnQueue","$42b9dc6f6ccfae9e$var$hide","$42b9dc6f6ccfae9e$var$handlingButton","$42b9dc6f6ccfae9e$var$closeModal","event","value","$42b9dc6f6ccfae9e$var$closeModalBackdrop","$42b9dc6f6ccfae9e$var$closeModalEsc","firstElementChild","body","button","style","display","$42b9dc6f6ccfae9e$var$show","$42b9dc6f6ccfae9e$var$findMovieById","push","filter","event2","removeEventListener","background","$42b9dc6f6ccfae9e$var$renderModal","closest","backdrop_path","backgroundImage","backgroundSize","backgroundPosition","START_URL","markup","vote_count","popularity","original_title","overview","$42b9dc6f6ccfae9e$var$mark","$42b9dc6f6ccfae9e$var$renderMovieCard","idMovie","savedTrendingFilms"],"version":3,"file":"gallery.5579247d.js.map"}