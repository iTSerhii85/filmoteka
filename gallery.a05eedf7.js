function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=i),i("kyEFX").register(JSON.parse('{"T57zD":"gallery.a05eedf7.js","bNA7a":"no-image.0b269193.jpg","iH3o9":"gallery.98c730a9.js"}')),i("ioBS9"),i("6HA5D");var o;o=new URL(i("kyEFX").resolve("bNA7a"),import.meta.url).toString();var d=i("hielw"),r=i("2nhTy");const l=document.querySelector(".pagination");let s=1,c=1;const u=document.querySelector(".js-watched-lib-btn"),m=document.querySelector(".js-queue-lib-btn"),_=document.querySelector(".js-library-gallery"),v=document.querySelector(".info-notify-box");document.querySelector(".info-notify-text");function p(t){const e=localStorage.getItem(t),n=JSON.parse(e);if(null!==n)return c=Math.ceil(n.length/20),(0,r.paginationMarkUp)(s,c),n}window.addEventListener("load",(function(){setTimeout((function(){u.click()}),0)}));const b=p("WATCHED_LIST_DATA_KEY"),g=p("QUEUE_LIST_DATA_KEY");function f(e){if(null===e)return E(),v.classList.remove("is-hidden");const n=e.map((e=>{E(),(0,d.checkGenresById)(e);let n="";return n=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:t(o),` <li class="card-wraper" id="${e.id}">\n       <a class="card-wraper_link" href="#"><img class="card-img" src="${n}" alt="${e.title||e.name}"/></a>\n       <div class="card-title">${e.title||e.name}</div>\n      <div class="wraper">\n         <div class="card-genre-wraper">\n           <div class="card-genre">${(0,d.checkGenresById)(e)}</div>\n         </div>\n         <div class="card-year">\n\n         ${e.release_date.slice(0,4)||e.first_air_date.slice(0,4)||""}\n\n         </div>\n         <div class="card-rating-wraper"><div class="card-rating">${e.vote_average.toFixed(1)}</div></div>\n       </div>\n     </li>`})).join("");_.insertAdjacentHTML("beforeend",n)}function E(){_.innerHTML=""}f(b),u.classList.add("btn-is-active"),u.addEventListener("click",(function(){let t=localStorage.getItem("WATCHED_LIST_DATA_KEY"),e=JSON.parse(t);c=Math.ceil(e.length/20),(0,r.paginationMarkUp)(s,c),u.classList.add("btn-is-active"),m.classList.remove("btn-is-active"),v.classList.add("is-hidden"),f(b)})),m.addEventListener("click",(function(){let t=localStorage.getItem("QUEUE_LIST_DATA_KEY"),e=JSON.parse(t);c=Math.ceil(e.length/20),(0,r.paginationMarkUp)(s,c),v.classList.add("is-hidden"),m.classList.add("btn-is-active"),u.classList.remove("btn-is-active"),f(g)})),l.addEventListener("click",(function(t){if("..."==t.target.textContent)return;if("P"!==t.target.nodeName)return;s=t.target.textContent,">>"==t.target.textContent&&(s=Number(targetPage.textContent)+1);"<<"==t.target.textContent&&(s=Number(targetPage.textContent)-1);(0,r.paginationMarkUp)(s,c);let e=20*(s-1)-1,n=20*(s-1)+20;if(u.classList.contains("btn-is-active")){const t=b,a=t.slice(e,n);console.log(t),console.log(a),f(a)}})),i("lAhPt");d=i("hielw");let T=D("WATCHED_LIST_DATA_KEY");function y(t){localStorage.setItem("WATCHED_LIST_DATA_KEY",JSON.stringify(t))}let h=D("QUEUE_LIST_DATA_KEY");function S(t){localStorage.setItem("QUEUE_LIST_DATA_KEY",JSON.stringify(t))}let A=null;const L=document.querySelector(".js-library-gallery"),w=document.querySelector(".backdrop-modal"),k=document.querySelector(".button-close"),$=document.querySelector(".modal-movie-card");function D(t){const e=localStorage.getItem(t);return JSON.parse(e)}function I(t){null===T&&(T=new Array),null===h&&(h=new Array);const e=document.querySelector(".js-btn-to-watched"),n=document.querySelector(".js-btn-from-watched"),a=document.querySelector(".js-btn-to-queue"),i=document.querySelector(".js-btn-from-queue");e.addEventListener("click",U),n.addEventListener("click",q),a.addEventListener("click",H),i.addEventListener("click",N),k.addEventListener("click",O),w.addEventListener("click",(t=>function(t){if("backdrop-modal"!==t.target.classList.value)return;O()}(t))),document.addEventListener("keydown",(t=>C(t))),w.classList.remove("is-hidden"),setTimeout((()=>{w.firstElementChild.classList.remove("is-hidden")}),350),document.body.classList.add("modal-open")}function U(t){const e=+t.currentTarget.id,n=M(e),a=D("WATCHED_LIST_DATA_KEY")||[];a.find((t=>t.id===e))||(a.push(n),y(a))}function q(t){const e=+t.currentTarget.id,n=a.find((t=>t.id===e)),a=D("WATCHED_LIST_DATA_KEY")||[];if(n){T.remove();y(a.filter((t=>t.id!==e)))}}function H(t){const e=+t.currentTarget.id,n=M(e),a=D("QUEUE_LIST_DATA_KEY")||[];a.find((t=>t.id===e))||(a.push(n),S(a))}function N(t){const e=+t.currentTarget.id;if((D("QUEUE_LIST_DATA_KEY")||[]).find((t=>t.id===e))){h.remove(e);S(watchedFilms.filter((t=>t.id!==e)))}}function O(t){w.classList.add("is-hidden"),w.firstElementChild.classList.remove("is-hidden"),k.removeEventListener("click",O),w.removeEventListener("click",O),document.removeEventListener("keydown",(t=>C(t))),document.body.classList.remove("modal-open"),w.style.background=""}function C(t){"Escape"===t.key&&O()}L.addEventListener("click",(t=>{"IMG"===t.target.nodeName&&j(t)}));const j=e=>{const n=M(e.target.closest("li").id);n&&(A=n.id,function(e){if(null!==e.backdrop_path){const t=`https://image.tmdb.org/t/p/original/${e.backdrop_path}`;w.style.backgroundImage=`url('${t}')`,w.style.backgroundSize="cover",w.style.backgroundPosition="50% 50%"}!function(e){const n="https://image.tmdb.org/t/p/w500";let a="";a=e.poster_path?`${n}${e.poster_path}`:t(o);const i=`\n            <div class='modal-movie-card__wrappe-img'>\n                <img id="${e.id}" class="modal-movie-card__image" src="${a}" alt="${e.title||e.name}"/>\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${e.title||e.name}</h2>\n                <h3 class='modal-movie-data__about_title'>About</h3>\n\n                <table class='modal-movie-data-table'>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                        </td>\n                        <td>\n                            <p><span class='modal-movie-data__vote'>${e.vote_average.toFixed(1)}</span> / ${e.vote_count}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Popularity</p>\n                        </td>\n                        <td>\n                            <p>${e.popularity.toFixed(1)}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Original Title</p>\n                        </td>\n                        <td>\n                            <p>${e.original_title}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Genre</p>\n                        </td>\n                        <td>\n                            <p>${(0,d.checkGenresById)(e)}</p>\n                        </td>\n                    </tr>\n\n                </table>\n                \n                <p class='modal-movie-data__about'>${e.overview}</p>\n                <ul class='modal-movie-data__btn-list'>\n                    <li class='modal-movie-data__btn-item'  >\n                        <button id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${e.id}'>\n                            ADD TO WATCHED\n                        </button>\n                        <button  id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-watched active is-hidden-btn js-btn-from-watched' type='button' data-action='${e.id}'>\n                            REMOVE FROM WATCHED\n                        </button>\n                    </li>\n                    <li class='modal-movie-data__button-item' >\n                        <button  id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${e.id}'>\n                            ADD TO QUEUE\n                        </button>\n                        <button id='${e.id}' class='modal-movie-data__btn modal-movie-data__btn-queue active is-hidden-btn js-btn-from-queue' type='button' data-action='${e.id}'>\n                            REMOVE FROM QUEUE\n                        </button>\n                    </li>\n                </ul>\n                <div class="trailer-btn-wrapper">\n                    <button  id='${e.id}' class='trailer-btn' type='button' data-action='${e.id}'>\n                        watch trailer\n                    </button>\n                </div>\n            </div>`;$.innerHTML=i}(e)}(n),I())};function M(t){const e=localStorage.getItem("QUEUE_LIST_DATA_KEY"),n=JSON.parse(e).find((e=>e.id===Number(t)));if(!n){const e=localStorage.getItem("WATCHED_LIST_DATA_KEY");return JSON.parse(e).find((e=>e.id===Number(t)))}return n}
//# sourceMappingURL=gallery.a05eedf7.js.map
