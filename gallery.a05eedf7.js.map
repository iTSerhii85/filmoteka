{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-4b08e798a9cb7982.js","src/gallery.js","node_modules/@parcel/runtime-js/lib/runtime-63fa19aa3301a04f.js","src/js/local-storage.js","src/js/modalMovieLibrary.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"T57zD\\\":\\\"gallery.a05eedf7.js\\\",\\\"bNA7a\\\":\\\"no-image.0b269193.jpg\\\",\\\"iH3o9\\\":\\\"gallery.98c730a9.js\\\"}\"));","import './js/preloader';\nimport './js/footer-modal';\nimport './js/local-storage';\nimport './js/dark-light';\nimport './js/modalMovieLibrary';\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bNA7a\")).toString();","import no_image from '../images/no-image.jpg';\nimport { checkGenresById } from './checkGenresById';\n\n// !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\nimport { paginationMarkUp } from './pagination.js';\nconst paginationBox = document.querySelector('.pagination');\nlet currentPage = 1;\nlet maxPage = 1;\n\n// -----------------------\n\nconst watchedLibBtn = document.querySelector('.js-watched-lib-btn');\nconst queueLibBtn = document.querySelector('.js-queue-lib-btn');\nconst libraryBox = document.querySelector('.js-library-gallery');\nconst emptyGalleryBox = document.querySelector('.info-notify-box');\nconst emptyGalleryText = document.querySelector('.info-notify-text');\n\nlet movieArray = [];\n\nwindow.addEventListener('load', function () {\n  setTimeout(function () {\n    watchedLibBtn.click();\n  }, 0);\n});\n\n// Функція розпарсить об'єкти з localStorage\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n  if (parseObjectFromLs === null) {\n    return;\n  } else {\n    maxPage = Math.ceil(parseObjectFromLs.length / 20);\n    paginationMarkUp(currentPage, maxPage);\n  }\n  return parseObjectFromLs;\n}\n\n// ключі від localStorage\nconst watchedArray = localStorageObject('WATCHED_LIST_DATA_KEY');\nconst queueArray = localStorageObject('QUEUE_LIST_DATA_KEY');\n\n// Рендерить розмітку у бібліотеці по дефолту\nrenderLibrary(watchedArray);\nwatchedLibBtn.classList.add('btn-is-active');\n\n// Функція для рендуру розмітки\nfunction renderLibrary(arrayMovies) {\n  if (arrayMovies === null) {\n    clearMarkup();\n    return emptyGalleryBox.classList.remove('is-hidden');\n  }\n\n  const markupOneCard = obj => {\n    clearMarkup();\n    checkGenresById(obj);\n\n    let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `https://image.tmdb.org/t/p/w500${obj.poster_path}`;\n    } else {\n      posterSrc = no_image;\n    }\n\n    return ` <li class=\"card-wraper\" id=\"${obj.id}\">\n       <a class=\"card-wraper_link\" href=\"#\"><img class=\"card-img\" src=\"${posterSrc}\" alt=\"${\n      obj.title || obj.name\n    }\"/></a>\n       <div class=\"card-title\">${obj.title || obj.name}</div>\n      <div class=\"wraper\">\n         <div class=\"card-genre-wraper\">\n           <div class=\"card-genre\">${checkGenresById(obj)}</div>\n         </div>\n         <div class=\"card-year\">\n\n         ${obj.release_date.slice(0, 4) || obj.first_air_date.slice(0, 4) || ''}\n\n         </div>\n         <div class=\"card-rating-wraper\"><div class=\"card-rating\">${obj.vote_average.toFixed(\n           1\n         )}</div></div>\n       </div>\n     </li>`;\n  };\n\n  const libraryMarkup = arrayMovies.map(markupOneCard).join('');\n  libraryBox.insertAdjacentHTML('beforeend', libraryMarkup);\n\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\n  // currentPage = 1;\n  // maxPage = 1;\n  // let arr = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n  // let parsedArr = JSON.parse(arr);\n  // console.log(parsedArr);\n  // maxPage = Math.ceil(parsedArr.length / 20);\n  // console.log(maxPage);\n  // paginationMarkUp(currentPage, maxPage);\n\n  // -----------------------\n}\n\n\nwatchedLibBtn.addEventListener('click', onClickWatched);\nqueueLibBtn.addEventListener('click', onClickQueue);\n\nfunction onClickWatched() {\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\n  let arr = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n  maxPage = Math.ceil(parsedArr.length / 20);\n  paginationMarkUp(currentPage, maxPage);\n\n  // -----------------------\n\n  watchedLibBtn.classList.add('btn-is-active');\n  queueLibBtn.classList.remove('btn-is-active');\n  emptyGalleryBox.classList.add('is-hidden');\n  renderLibrary(watchedArray);\n}\n\nfunction onClickQueue() {\n  // !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\n\n  let arr = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n  let parsedArr = JSON.parse(arr);\n  maxPage = Math.ceil(parsedArr.length / 20);\n  paginationMarkUp(currentPage, maxPage);\n  // -----------------------\n\n  emptyGalleryBox.classList.add('is-hidden');\n  queueLibBtn.classList.add('btn-is-active');\n  watchedLibBtn.classList.remove('btn-is-active');\n  renderLibrary(queueArray);\n}\n\nfunction clearMarkup() {\n  libraryBox.innerHTML = '';\n}\n\n// !!!!!!!!!!добавил это  !!!!!!!!!!!!!!!!\npaginationBox.addEventListener('click', Onclick);\n\nfunction Onclick(evt) {\n  if (evt.target.textContent == '...') {\n    return;\n  }\n  if (evt.target.nodeName !== 'P') {\n    return;\n  }\n  currentPage = evt.target.textContent;\n\n  if (evt.target.textContent == '>>') {\n    currentPage = Number(targetPage.textContent) + 1;\n  }\n\n  if (evt.target.textContent == '<<') {\n    currentPage = Number(targetPage.textContent) - 1;\n  }\n\n  paginationMarkUp(currentPage, maxPage);\n  // for (i = (currentPage - 1) * 20; i < (currentPage - 1) * 20 + 20; i += 1) {\n  //   console.log(`i=${i}`);\n\n  // И вот тут отрисовываем карточки из массива по интексам   <<<<<-----------\n\n  let startPoint = (currentPage - 1) * 20 - 1;\n  let stopPoint = (currentPage - 1) * 20 + 20;\n\n  if (watchedLibBtn.classList.contains('btn-is-active')) {\n    const beforeArrey = watchedArray;\n    const watchedArr = beforeArrey.slice(startPoint, stopPoint);\n    // const arrMovies = middleArrey.slice(stopPoint - 1, beforeArrey.length);\n    console.log(beforeArrey);\n    console.log(watchedArr);\n    // console.log(arrMovies);\n    renderLibrary(watchedArr);\n  }\n}\n// -----------------------\n","import no_image from '../images/no-image.jpg';\nimport { checkGenresById } from './checkGenresById';\n\n\nlet watched = localStorageObject('WATCHED_LIST_DATA_KEY');\n\nfunction saveWatchedListToLocalStorage(data) {\n  localStorage.setItem('WATCHED_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nlet queue = localStorageObject('QUEUE_LIST_DATA_KEY');\n\nfunction saveQueueListToLocalStorage(data) {\n  localStorage.setItem('QUEUE_LIST_DATA_KEY', JSON.stringify(data));\n}\n\nlet currentId = null;\nconst cardList = document.querySelector('.js-library-gallery');\nconst backdrop = document.querySelector('.backdrop-modal');\nconst closeModalBtn = document.querySelector('.button-close');\nconst movieCard = document.querySelector('.modal-movie-card');\ncardList.addEventListener('click', event => {\n  if (event.target.nodeName === 'IMG') {\n    renderModal(event);\n  }\n});\n\nfunction localStorageObject(key) {\n  const getObjectFromLs = localStorage.getItem(key);\n  const parseObjectFromLs = JSON.parse(getObjectFromLs);\n//   console.log(parseObjectFromLs);\n  return parseObjectFromLs;\n}\n\nfunction openModal(event) {\n//   console.log('openModal');\n\n  if (watched === null) {\n    watched = new Array();\n  }\n  \n  if (queue === null) {\n    queue = new Array();\n  }\n\n\n\n  const toWatchedBtn = document.querySelector('.js-btn-to-watched');\n  const removeWatchedBtn = document.querySelector('.js-btn-from-watched');\n\n  const toQueueBtn = document.querySelector('.js-btn-to-queue');\n  const removeQueueBtn = document.querySelector('.js-btn-from-queue');\n\n  toWatchedBtn.addEventListener('click', onToWatchedBtn);\n  removeWatchedBtn.addEventListener('click', onRemoveWatchedBtn);\n\n  toQueueBtn.addEventListener('click', onToQueueBtn);\n  removeQueueBtn.addEventListener('click', onRemoveQueueBtn);\n\n\n\n  closeModalBtn.addEventListener('click', closeModal);\n  backdrop.addEventListener('click', event => closeModalBackdrop(event));\n  document.addEventListener('keydown', event => closeModalEsc(event));\n  backdrop.classList.remove('is-hidden');\n  setTimeout(() => {\n    backdrop.firstElementChild.classList.remove('is-hidden');\n  }, 350);\n  document.body.classList.add('modal-open');\n}\n\nfunction onToWatchedBtn(event) {\n  const button = event.currentTarget;\n\n  const movieId = +button.id;\n  const data = findMovieById(movieId);\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n  const alreadyExists = watchedFilms.find(item => item.id === movieId);\n\n  if (!alreadyExists) {\n    watchedFilms.push(data);\n    saveWatchedListToLocalStorage(watchedFilms);\n  }\n}\n\nfunction onRemoveWatchedBtn(event) {\n  const button = event.currentTarget;\n\n  const movieId = +button.id;\n  const isExist = watchedFilms.find(item => item.id === movieId);\n\n  const watchedFilms = localStorageObject('WATCHED_LIST_DATA_KEY') || [];\n\n  if (isExist) {\n    watched.remove();\n    const updatedFilms = watchedFilms.filter(item => item.id !== movieId);\n    saveWatchedListToLocalStorage(updatedFilms);\n  }\n}\n\nfunction onToQueueBtn(event) {\n  const button = event.currentTarget;\n\n  const movieId = +button.id;\n  const data = findMovieById(movieId);\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const alreadyOnQueue = queuedFilms.find(item => item.id === movieId);\n\n  if (!alreadyOnQueue) {\n    queuedFilms.push(data);\n    saveQueueListToLocalStorage(queuedFilms);\n  }\n}\n\nfunction onRemoveQueueBtn(event) {\n  const button = event.currentTarget;\n  const movieId = +button.id;\n  const queuedFilms = localStorageObject('QUEUE_LIST_DATA_KEY') || [];\n  const isExist = queuedFilms.find(item => item.id === movieId);\n\n  if (isExist) {\n    queue.remove(movieId);\n    const updatedFilms = watchedFilms.filter(item => item.id !== movieId);\n    saveQueueListToLocalStorage(updatedFilms);\n  }\n}\n\nfunction closeModal(event) {\n  backdrop.classList.add('is-hidden');\n  backdrop.firstElementChild.classList.remove('is-hidden');\n  closeModalBtn.removeEventListener('click', closeModal);\n  backdrop.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', event => closeModalEsc(event));\n  document.body.classList.remove('modal-open');\n  backdrop.style.background = '';\n}\n\nfunction closeModalBackdrop(event) {\n  if (event.target.classList.value !== 'backdrop-modal') {\n    return;\n  }\n  closeModal();\n}\nfunction closeModalEsc(event) {\n  if (event.key !== 'Escape') {\n    return;\n  }\n  closeModal();\n}\n\nconst renderModal = event => {\n  const cardId = event.target.closest('li');\n  const idMovie = cardId.id;\n  const data = findMovieById(idMovie);\n  if (data) {\n    currentId = data.id;\n    renderMovieCard(data);\n    openModal(event);\n  }\n};\n\nfunction findMovieById(idMovie) {\n  const savedTrendingFilms = localStorage.getItem('QUEUE_LIST_DATA_KEY');\n  const arrayMovies = JSON.parse(savedTrendingFilms);\n  const data = arrayMovies.find(arr => arr.id === Number(idMovie));\n  if (!data) {\n         const savedTrendingFilms = localStorage.getItem('WATCHED_LIST_DATA_KEY');\n         const arrayMovies = JSON.parse(savedTrendingFilms);\n         const obj = arrayMovies.find(arr => arr.id === Number(idMovie));\n         return obj;\n  }\n  return data;\n}\n\nfunction renderMovieCard(obj) {\n  const backdropImage = obj.backdrop_path;\n  if (backdropImage !== null) {\n    const background = `https://image.tmdb.org/t/p/original/${obj.backdrop_path}`;\n    backdrop.style.backgroundImage = `url('${background}')`;\n    backdrop.style.backgroundSize = 'cover';\n    backdrop.style.backgroundPosition = '50% 50%';\n  }\n  mark(obj);\n}\n\nfunction mark(obj) {\n  const START_URL = 'https://image.tmdb.org/t/p/w500';\n  let posterSrc = '';\n    if (obj.poster_path) {\n      posterSrc = `${START_URL}${obj.poster_path}`    \n    } else {\n      posterSrc = no_image;\n  }\n\n    const markup = `\n            <div class='modal-movie-card__wrappe-img'>\n                <img id=\"${obj.id}\" class=\"modal-movie-card__image\" src=\"${posterSrc}\" alt=\"${obj.title || obj.name}\"/>\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>${obj.title || obj.name}</h2>\n                <h3 class='modal-movie-data__about_title'>About</h3>\n\n                <table class='modal-movie-data-table'>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                        </td>\n                        <td>\n                            <p><span class='modal-movie-data__vote'>${obj.vote_average.toFixed(1)}</span> / ${obj.vote_count}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Popularity</p>\n                        </td>\n                        <td>\n                            <p>${obj.popularity.toFixed(1)}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Original Title</p>\n                        </td>\n                        <td>\n                            <p>${obj.original_title}</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Genre</p>\n                        </td>\n                        <td>\n                            <p>${checkGenresById(obj)}</p>\n                        </td>\n                    </tr>\n\n                </table>\n                \n                <p class='modal-movie-data__about'>${obj.overview}</p>\n                <ul class='modal-movie-data__btn-list'>\n                    <li class='modal-movie-data__btn-item'  >\n                        <button id='${ obj.id}' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='${ obj.id}'>\n                            ADD TO WATCHED\n                        </button>\n                        <button  id='${obj.id}' class='modal-movie-data__btn modal-movie-data__btn-watched active is-hidden-btn js-btn-from-watched' type='button' data-action='${obj.id}'>\n                            REMOVE FROM WATCHED\n                        </button>\n                    </li>\n                    <li class='modal-movie-data__button-item' >\n                        <button  id='${obj.id}' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='${obj.id}'>\n                            ADD TO QUEUE\n                        </button>\n                        <button id='${obj.id}' class='modal-movie-data__btn modal-movie-data__btn-queue active is-hidden-btn js-btn-from-queue' type='button' data-action='${obj.id}'>\n                            REMOVE FROM QUEUE\n                        </button>\n                    </li>\n                </ul>\n                <div class=\"trailer-btn-wrapper\">\n                    <button  id='${obj.id}' class='trailer-btn' type='button' data-action='${obj.id}'>\n                        watch trailer\n                    </button>\n                </div>\n            </div>`;\n\n  movieCard.innerHTML = markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$46cee9b60252fd1e$exports","URL","resolve","import","meta","url","toString","$8125d1701b78b442$var$paginationBox","document","querySelector","$8125d1701b78b442$var$currentPage","$8125d1701b78b442$var$maxPage","$8125d1701b78b442$var$watchedLibBtn","$8125d1701b78b442$var$queueLibBtn","$8125d1701b78b442$var$libraryBox","$8125d1701b78b442$var$emptyGalleryBox","$8125d1701b78b442$var$localStorageObject","key","getObjectFromLs","localStorage","getItem","parseObjectFromLs","Math","ceil","length","$2nhTy","paginationMarkUp","window","addEventListener","setTimeout","click","$8125d1701b78b442$var$watchedArray","$8125d1701b78b442$var$queueArray","$8125d1701b78b442$var$renderLibrary","arrayMovies","$8125d1701b78b442$var$clearMarkup","classList","remove","libraryMarkup","map","obj","$hielw","checkGenresById","posterSrc","poster_path","$parcel$interopDefault","id","title","name","release_date","slice","first_air_date","vote_average","toFixed","join","insertAdjacentHTML","innerHTML","add","arr","parsedArr","evt","target","textContent","nodeName","Number","targetPage","startPoint","stopPoint","contains","beforeArrey","watchedArr","console","log","$42b9dc6f6ccfae9e$var$watched","$42b9dc6f6ccfae9e$var$localStorageObject","$42b9dc6f6ccfae9e$var$saveWatchedListToLocalStorage","data","setItem","stringify","$42b9dc6f6ccfae9e$var$queue","$42b9dc6f6ccfae9e$var$saveQueueListToLocalStorage","$42b9dc6f6ccfae9e$var$currentId","$42b9dc6f6ccfae9e$var$cardList","$42b9dc6f6ccfae9e$var$backdrop","$42b9dc6f6ccfae9e$var$closeModalBtn","$42b9dc6f6ccfae9e$var$movieCard","$42b9dc6f6ccfae9e$var$openModal","event1","Array","toWatchedBtn","removeWatchedBtn","toQueueBtn","removeQueueBtn","$42b9dc6f6ccfae9e$var$onToWatchedBtn","$42b9dc6f6ccfae9e$var$onRemoveWatchedBtn","$42b9dc6f6ccfae9e$var$onToQueueBtn","$42b9dc6f6ccfae9e$var$onRemoveQueueBtn","$42b9dc6f6ccfae9e$var$closeModal","event","value","$42b9dc6f6ccfae9e$var$closeModalBackdrop","$42b9dc6f6ccfae9e$var$closeModalEsc","firstElementChild","body","movieId","currentTarget","$42b9dc6f6ccfae9e$var$findMovieById","watchedFilms","find","item","push","isExist","filter","queuedFilms","event2","removeEventListener","style","background","$42b9dc6f6ccfae9e$var$renderModal","closest","backdrop_path","backgroundImage","backgroundSize","backgroundPosition","START_URL","markup","vote_count","popularity","original_title","overview","$42b9dc6f6ccfae9e$var$mark","$42b9dc6f6ccfae9e$var$renderMovieCard","idMovie","savedTrendingFilms"],"version":3,"file":"gallery.a05eedf7.js.map"}