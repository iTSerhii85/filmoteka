!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=i),i("iE7OH").register(JSON.parse('{"euV2r":"gallery.da0bca5f.js","buPbL":"no-image.0b269193.jpg","6teei":"gallery.6b9c2766.js"}')),i("4smAb"),i("4F07H");var o;o=i("aNJCr").getBundleURL("euV2r")+i("iE7OH").resolve("buPbL");var r=document.querySelector(".js-watched-lib-btn"),d=document.querySelector(".js-queue-lib-btn"),c=document.querySelector(".js-library-gallery"),l=document.querySelector(".info-notify-box");document.querySelector(".info-notify-text");function s(t){var e=localStorage.getItem(t),n=JSON.parse(e);return console.log(n),n}var u=s("WATCHED_LIST_DATA_KEY"),m=s("QUEUE_LIST_DATA_KEY");function v(e){if(null===e)return b(),l.classList.remove("is-hidden");var n=e.map((function(e){b(),_(e);var n="";return n=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):t(o),' <li class="card-wraper" id="'.concat(e.id,'">\n       <a class="card-wraper_link" href="#"><img class="card-img" src="').concat(n,'" alt="').concat(e.title||e.name,'"/></a>\n       <div class="card-title">').concat(e.title||e.name,'</div>\n      <div class="wraper">\n         <div class="card-genre-wraper">\n           <div class="card-genre">').concat(_(e),'</div>\n         </div>\n         <div class="card-year">\n\n         ').concat(e.release_date.slice(0,4)||e.first_air_date.slice(0,4)||"",'\n\n         </div>\n         <div class="card-rating-wraper"><div class="card-rating">').concat(e.vote_average.toFixed(1),"</div></div>\n       </div>\n     </li>")})).join("");c.insertAdjacentHTML("beforeend",n)}function _(t){var e=localStorage.getItem("GENRES_DATA_KEY"),n=JSON.parse(e),a=[],i=t.genre_ids,o=!0,r=!1,d=void 0;try{for(var c,l=n[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;i.includes(s.id)&&a.push(s.name)}}catch(t){r=!0,d=t}finally{try{o||null==l.return||l.return()}finally{if(r)throw d}}var u="";return 0===a.length?u="Unknown genre":a.length<=2?u=a.join(", "):(a.splice(2,a.length),u=a.join(", ")+", Other"),u}function b(){c.innerHTML=""}v(u),r.classList.add("btn-is-active"),r.addEventListener("click",(function(){r.classList.add("btn-is-active"),d.classList.remove("btn-is-active"),l.classList.add("is-hidden"),v(u)})),d.addEventListener("click",(function(){l.classList.add("is-hidden"),d.classList.add("btn-is-active"),r.classList.remove("btn-is-active"),v(m)})),i("3qTkO");var f=h("WATCHED_LIST_DATA_KEY");function p(t){localStorage.setItem("WATCHED_LIST_DATA_KEY",JSON.stringify(t))}var E=h("QUEUE_LIST_DATA_KEY");function g(t){localStorage.setItem("QUEUE_LIST_DATA_KEY",JSON.stringify(t))}var y=document.querySelector(".js-library-gallery"),T=document.querySelector(".backdrop-modal"),L=document.querySelector(".button-close"),S=document.querySelector(".modal-movie-card");function h(t){var e=localStorage.getItem(t);return JSON.parse(e)}function A(t){null===f&&(f=new Array),null===E&&(E=new Array);var e=document.querySelector(".js-btn-to-watched"),n=document.querySelector(".js-btn-from-watched"),a=document.querySelector(".js-btn-to-queue"),i=document.querySelector(".js-btn-from-queue");e.addEventListener("click",w),n.addEventListener("click",D),a.addEventListener("click",k),i.addEventListener("click",q),L.addEventListener("click",O),T.addEventListener("click",(function(t){return function(t){if("backdrop-modal"!==t.target.classList.value)return;O()}(t)})),document.addEventListener("keydown",(function(t){return I(t)})),T.classList.remove("is-hidden"),setTimeout((function(){T.firstElementChild.classList.remove("is-hidden")}),350),document.body.classList.add("modal-open")}function w(t){var e=+t.currentTarget.id,n=U(e),a=h("WATCHED_LIST_DATA_KEY")||[];a.find((function(t){return t.id===e}))||(a.push(n),p(a))}function D(t){var e=+t.currentTarget.id,n=a.find((function(t){return t.id===e})),a=h("WATCHED_LIST_DATA_KEY")||[];n&&(f.remove(),p(a.filter((function(t){return t.id!==e}))))}function k(t){var e=+t.currentTarget.id,n=U(e),a=h("QUEUE_LIST_DATA_KEY")||[];a.find((function(t){return t.id===e}))||(a.push(n),g(a))}function q(t){var e=+t.currentTarget.id;(h("QUEUE_LIST_DATA_KEY")||[]).find((function(t){return t.id===e}))&&(E.remove(e),g(watchedFilms.filter((function(t){return t.id!==e}))))}function O(t){T.classList.add("is-hidden"),T.firstElementChild.classList.remove("is-hidden"),L.removeEventListener("click",O),T.removeEventListener("click",O),document.removeEventListener("keydown",(function(t){return I(t)})),document.body.classList.remove("modal-open"),T.style.background=""}function I(t){"Escape"===t.key&&O()}y.addEventListener("click",(function(t){"IMG"===t.target.nodeName&&H(t)}));var H=function(t){var e=U(t.target.closest("li").id);e&&(e.id,function(t){if(null!==t.backdrop_path){var e="https://image.tmdb.org/t/p/original/".concat(t.backdrop_path);T.style.backgroundImage="url('".concat(e,"')"),T.style.backgroundSize="cover",T.style.backgroundPosition="50% 50%"}!function(t){var e="\n            <div class='modal-movie-card__wrappe-img'>\n                <img id=\"".concat(t.id,'" class="modal-movie-card__image" src="https://image.tmdb.org/t/p/w500').concat(t.poster_path,"\"alt=\"#\" />\n            </div>\n            <div class='modal-movie-data'>\n                <h2 class='modal-movie-data__title'>").concat(t.title||t.name,"</h2>\n                <h3 class='modal-movie-data__about_title'>About</h3>\n\n                <table class='modal-movie-data-table'>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p class='modal-movie-data__attribute'>Vote / Votes</p>\n                        </td>\n                        <td>\n                            <p><span class='modal-movie-data__vote'>").concat(t.vote_average.toFixed(1),"</span> / ").concat(t.vote_count,"</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Popularity</p>\n                        </td>\n                        <td>\n                            <p>").concat(t.popularity.toFixed(1),"</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Original Title</p>\n                        </td>\n                        <td>\n                            <p>").concat(t.original_title,"</p>\n                        </td>\n                    </tr>\n                    <tr class='modal-movie-data-table__row'>\n                        <td>\n                            <p>Genre</p>\n                        </td>\n                        <td>\n                            <p>Жанры</p>\n                        </td>\n                    </tr>\n\n                </table>\n                \n                <p class='modal-movie-data__about'>").concat(t.overview,"</p>\n                <ul class='modal-movie-data__btn-list'>\n                    <li class='modal-movie-data__btn-item'  >\n                        <button id='").concat(t.id,"' class='modal-movie-data__btn modal-movie-data__btn-watched js-btn-to-watched' type='button' data-action='").concat(t.id,"'>\n                            ADD TO WATCHED\n                        </button>\n                        <button  id='").concat(t.id,"' class='modal-movie-data__btn modal-movie-data__btn-watched active is-hidden-btn js-btn-from-watched' type='button' data-action='").concat(t.id,"'>\n                            REMOVE FROM WATCHED\n                        </button>\n                    </li>\n                    <li class='modal-movie-data__button-item' >\n                        <button  id='").concat(t.id,"' class='modal-movie-data__btn modal-movie-data__btn-queue js-btn-to-queue' type='button' data-action='").concat(t.id,"'>\n                            ADD TO QUEUE\n                        </button>\n                        <button id='").concat(t.id,"' class='modal-movie-data__btn modal-movie-data__btn-queue active is-hidden-btn js-btn-from-queue' type='button' data-action='").concat(t.id,"'>\n                            REMOVE FROM QUEUE\n                        </button>\n                    </li>\n                </ul>\n                <div class=\"trailer-btn-wrapper\">\n                    <button  id='").concat(t.id,"' class='trailer-btn' type='button' data-action='").concat(t.id,"'>\n                        watch trailer\n                    </button>\n                </div>\n            </div>");S.innerHTML=e}(t)}(e),A())};function U(t){var e=localStorage.getItem("QUEUE_LIST_DATA_KEY"),n=JSON.parse(e).find((function(e){return e.id===Number(t)}));if(!n){var a=localStorage.getItem("WATCHED_LIST_DATA_KEY");return JSON.parse(a).find((function(e){return e.id===Number(t)}))}return n}}();
//# sourceMappingURL=gallery.da0bca5f.js.map
